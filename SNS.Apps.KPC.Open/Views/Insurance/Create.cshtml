@model SNS.Apps.KPC.Libs.Models.InsuranceSubmitModel

@{
    if (HttpContext.Current.Request.UserAgent.Contains("kuaipinche"))
    {
        ViewBag.Title = "免费投保";
    }
    else
    {
        ViewBag.Title = "快拼车";
    }
    Layout = "~/Views/Shared/_LayoutList.cshtml";
}

@section head{
    @Styles.Render("~/Content/route/confirm")
    <style>
        #wrapper ul li {
            border: none;
        }

        #wrapper input[type="text"], #wrapper input[type="password"] {
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            width: 100%;
            padding: 9px;
            -webkit-appearance: none;
        }

        input[type="button"], #btn_cancel {
            color: white;
            height: 50px;
            border-radius: 3px;
            font-size: 20px;
        }

            input[type="button"], input[type="button"]:visited, #btn_cancel {
                background-color: #2f8d13;
                border: 1px solid #008001;
                box-shadow: rgba(255, 255, 255, 0.298039) 0px 1px 0px 0px inset, rgb(204, 204, 204) 1px 1px 4px 0px;
                /*
                background: -webkit-gradient(linear, 0% 0, 0% 100%, from(#0faf0f), to(#008001));
                    */
            }

                input[type="button"].notcheck {
                    background-color: #999;
                    border: 1px solid #797979;
                    box-shadow: rgba(255, 255, 255, 0.298039) 0px 1px 0px 0px inset, #ccc 1px 1px 4px 0px;
                }

        .notchecked {
            border: 1px solid rgb(238,238,238);
            color: rgb(51,51,51);
            border-radius: 3px;
        }

        .yeschecked {
            border: 1px solid green;
            color: green;
            border-radius: 3px;
        }

        /* city begin */
        #city_box ul li:active {
            background-color: #eee;
        }

        ul.city_lst li {
            float: left;
            width: 33.3%;
            text-align: center;
            color: #394b59;
        }

            ul.city_lst li a {
                display: block;
                color: #394b59;
                height: 50px;
                line-height: 50px;
                border-right: 1px dashed #d8d8d8;
                border-bottom: 1px dashed #d8d8d8;
            }

        h3 {
            height: 40px;
            line-height: 40px;
            padding: 0px 10px;
            background-color: green;
            color: white;
        }

        ul.letters_lst li {
            float: left;
            width: 16.6%;
            text-align: center;
            color: #394b59;
        }

            ul.letters_lst li a {
                display: block;
                height: 50px;
                line-height: 50px;
                border-right: 1px dashed #d8d8d8;
                border-bottom: 1px dashed #d8d8d8;
                color: #394b59;
            }

        h4 {
            padding: 0px 10px;
            background-color: #f0f0f0;
            color: #333;
            height: 30px;
            line-height: 30px;
        }

        #backbtn2:active {
            background-color: #005801;
        }
        /* city end */
    </style>
}

<div id="wrapper" style="min-height:300px">
    <div class="header" style="@(HttpContext.Current.Request.UserAgent.Contains("kuaipinche") ?"display:none":"")">
        <script>
            var refernull = null;
        </script>
        @{
            ViewBag.ShowBackIcon = (HttpContext.Current.Request.UrlReferrer == null ? false : true);
            if (!ViewBag.ShowBackIcon)
            {
                <script>
                    refernull = true;
                </script>
            }
        }
        <span id="backbtn" class="backbtn">
        </span>
        <div class="headertitle">免费投保</div>
    </div><!-- navbar -->
    @using (Html.BeginForm(new { returnUrl = ViewBag.ReturnUrl }))
    {
        @Html.AntiForgeryToken()

        <ul>
            <li style="font-size:14px;color:gray;margin:5px 0px;">快拼车关注您和家人的安全，为您免费提供10万高保额拼车险，请您认真填写以下信息。</li>
            <li style="margin: 5px 0px;">
                @Html.TextBoxFor(p => p.Name, new { id = "name", placeholder = "请输入您的真实姓名（必填）" })
            </li>
            <li style="margin: 5px 0px;">
                <table style="table-layout:fixed" cellspacing="0" width="100%">
                    <tr>
                        <td>
                            <label class="@(@Model.Gender == true ? "yeschecked" : "notchecked")" id="lblmale" for="male" style="padding:9px;display:block;text-align:center;">男</label>
                        </td>
                        <td>
                            <label class="@(@Model.Gender == false ? "yeschecked" : "notchecked")" id="lblfemale" for="female" style="padding:9px;display:block;text-align:center;">女</label>
                        </td>
                    </tr>
                </table>
                @Html.RadioButtonFor(m => m.Gender, "true", new { id = "male", style = "display:none;" })
                @Html.RadioButtonFor(m => m.Gender, "false", new { id = "female", style = "display:none;" })
            </li>
            <li style="margin: 5px 0px;">
                <table style="table-layout:fixed" cellspacing="0" width="100%">
                    <tr>
                        <td>
                            @Html.TextBoxFor(m => m.Birthday, "{0:yyyy-MM-dd}", new { id = "birthday", placeholder = "出生日期（必填）", @readonly = "readonly" })
                        </td>
                        <td>
                            @Html.TextBoxFor(m => m.City, new { id = "city", placeholder = "所在城市（必填）", @readonly = "readonly" })
                        </td>
                    </tr>
                </table>
            </li>
            @*<li style="margin: 5px 0px;">
                    @Html.TextBoxFor(m => m.IdentityNo, new { id = "identitycard", placeholder = "身份证号码（必填）", maxlength = "18" })
                </li>*@
            <li style="border-bottom:none; margin-top:10px;">
                @{
        if (!string.IsNullOrEmpty(Request.QueryString["fromurl"]))
        {
            <input id="btn_submit" type="button" value="同意" style=" width: 100%;" />
        }
        else
        {
            <input id="btn_submit" type="button" value="同意" style=" width: 100%;" />
        }
                }
            </li>
            <li style="font-size:14px;color:gray;margin:5px 0px;"><input id="terms" checked="checked" type="checkbox" />我同意<a href="/insurance/terms" onclick="showWait();">《产品条款》</a>及责任免除条款，我同意大都会人寿提供的与保险有关的后续客户服务和产品推荐。</li>
        </ul><!-- /main page -->

        if (string.IsNullOrEmpty(Request.QueryString["fromurl"]))
        {
            <div style="margin:10px;text-align:right;">
                <a href="@ViewBag.ReturnUrl" style="padding:10px;color:gray; text-align:center;">跳过</a>
            </div>
        }

        @Html.Partial("_Partial_InsuranceDesc")
    }
</div>

<div id="city_box" style="min-height:300px;display:none;">
    <div class="header">
        <span id="backbtn2" class="backbtn">
        </span>
        <div class="headertitle">热门城市</div>
    </div><!-- navbar -->
    <ul id="hotcity" class="city_lst">
        <li>
            <a href="javascript:;">北京市</a>
        </li>
        <li>
            <a href="javascript:;">上海市</a>
        </li>
        <li>
            <a href="javascript:;">成都市</a>
        </li>
        <li>
            <a href="javascript:;">杭州市</a>
        </li>
        <li>
            <a href="javascript:;">广州市</a>
        </li>
        <li>
            <a href="javascript:;">深圳市</a>
        </li>
        <li>
            <a href="javascript:;">重庆市</a>
        </li>
        <li>
            <a href="javascript:;">武汉市</a>
        </li>
        <li>
            <a href="javascript:;">南京市</a>
        </li>
        <li>
            <a href="javascript:;">石家庄市</a>
        </li>
        <li>
            <a href="javascript:;">天津市</a>
        </li>
        <li>
            <a href="javascript:;">青岛市</a>
        </li>
    </ul>
    <h3>选择城市拼音首字母</h3>
    <ul id="letterlist" class="letters_lst">
        <li><a>A</a></li>
        <li><a>B</a></li>
        <li><a>C</a></li>
        <li><a>D</a></li>
        <li><a>E</a></li>
        <li><a>F</a></li>
        <li><a>G</a></li>
        <li><a>H</a></li>
        <li><a>J</a></li>
        <li><a>K</a></li>
        <li><a>L</a></li>
        <li><a>M</a></li>
        <li><a>N</a></li>
        <li><a>P</a></li>
        <li><a>Q</a></li>
        <li><a>R</a></li>
        <li><a>S</a></li>
        <li><a>T</a></li>
        <li><a>W</a></li>
        <li><a>X</a></li>
        <li><a>Y</a></li>
        <li><a>Z</a></li>
    </ul>
    <div id="citylist">
        <h4 id="h">
            A
        </h4>
        <ul id="cities" class="city_lst">
            <li><a href="javascript:;">阿城市</a></li>
            <li><a href="javascript:;">阿克苏市</a></li>
            <li><a href="javascript:;">阿勒泰市</a></li>
            <li><a href="javascript:;">安达市</a></li>
            <li><a href="javascript:;">安国市</a></li>
            <li><a href="javascript:;">安康市</a></li>
            <li><a href="javascript:;">安陆市</a></li>
            <li><a href="javascript:;">安宁市</a></li>
            <li><a href="javascript:;">安庆市</a></li>
            <li><a href="javascript:;">安丘市</a></li>
            <li><a href="javascript:;">鞍山市</a></li>
            <li><a href="javascript:;">安顺市</a></li>
            <li><a href="javascript:;">安阳市</a></li>
            <li><a href="javascript:;">阿图什市</a></li>
            <li><a href="javascript:;">阿尔山市</a></li>
        </ul>
        <div id="shade" style="text-align:center;display:none">
            <img src="~/Content/images/loading.gif" />正在加载中...
        </div><!-- /Shade -->
    </div>
</div>

@RenderPage("/Views/Shared/_Footer.cshtml")

@Scripts.Render("~/bundles/insurance/create")

<script id="city_template" type="text/template">
    <% _.each(datas, function(items) { %>
    <li><a href="javascript:;"><%= items %></a></li>
    <% }); %>
</script>
<script>
    var KPC = KPC || {};
</script>
@if (!string.IsNullOrEmpty(ViewBag.ErrorMsg))
{
    <script type="text/javascript">
        alert("@ViewBag.ErrorMsg");
        KPC.backstep = 2;
    </script>
}
@model SNS.Apps.KPC.Libs.Models.UserInsuranceResult
@using SNS.Apps.KPC.Libs.Utils;

@{
    if (HttpContext.Current.Request.UserAgent.Contains("kuaipinche"))
    {
        ViewBag.Title = "保单信息";
    }
    else
    {
        ViewBag.Title = "快拼车";
    }

    Layout = "~/Views/Shared/_LayoutList.cshtml";
}

<style>
    body, ul, li, span, h1, h2, h3, h4, h5, h6 {
        margin: 0px;
        padding: 0px;
        border: 0px;
    }

    ul {
        list-style: none;
        width: 100%;
        overflow: hidden;
    }

        ul li {
            line-height: 40px;
            padding: 0px 10px;
        }

    #header {
        line-height: 40px;
        height: 40px;
        position: relative;
        border-bottom: 1px solid #009900;
    }

    #navbar:active, #backbtn:active {
        background-color: #005801;
    }

    .title {
        width: 80px;
        display: inline-block;
    }
</style>

<div id="wrapper" style="min-height:300px">
    <div class="header" style="@(HttpContext.Current.Request.UserAgent.Contains("kuaipinche") ?"display:none":"")">
        <span id="backbtn" onclick="history.back();" class="backbtn">
        </span>
        <div class="headertitle">保单信息</div>
    </div><!-- navbar -->
    <div style="margin: 10px; border: 1px solid #CCCAC6; background-color: white; border-radius: 5px;">
        <ul>
            <li>
                <span class="title">保单号：</span>@Model.InsureNo
            </li>
            <li>
                <span class="title">投保人：</span>@Model.Requestor.Name
            </li>
            <li>
                <span class="title">性　别：</span>@(Model.Requestor.Gender != null && Model.Requestor.Gender.Value ? "男" : "女")
            </li>
            <li>
                <span class="title">生　日：</span>@Model.Requestor.Birthday.Value.ToString("yyyy-MM-dd")
            </li>
            <li>
                <span class="title">所在地：</span>@Model.City
            </li>
            @*<li>
                    <span class="title">身　份　证：</span>@Model.Requestor.IdentityNo
                </li>*@

            @if (Model.Status != null && Model.Status.HasValue && (Model.Status.Value == SNS.Apps.KPC.Libs.Models.InsuranceStatus.Pending || Model.Status.Value == SNS.Apps.KPC.Libs.Models.InsuranceStatus.Active))
            {
                <li>
                    <span class="title">有效期：</span>@Model.EffectDate.Value.ToString("yyyy-MM-dd") 至 @Model.ExpireDate.Value.ToString("yyyy-MM-dd")
                </li>
            }

            <li>
                <span class="title">状　态：</span>@Model.Status.Value.GetDescription()
            </li>

            @if (Model.Status.Value == SNS.Apps.KPC.Libs.Models.InsuranceStatus.Fail)
            {
                <li>
                    <span class="title">失败原因　：</span>
                    @Html.TextAreaFor(p => p.IssueMemo, new { rows = 3 })
                </li>
            }
        </ul>
    </div>
    <p style="font-size: 14px; color: gray; margin: 5px 10px;">我同意<a onclick="showWait();" href="/insurance/terms">《产品条款》</a>及责任免除条款，我同意大都会人寿提供的与保险有关的后续客户服务和产品推荐。</p>
    @Html.Partial("_Partial_InsuranceDesc")
</div>

@RenderPage("/Views/Shared/_Footer.cshtml")

@if (!string.IsNullOrEmpty(ViewBag.OKMsg))
{
    <script type="text/javascript">alert("@ViewBag.OKMsg");</script>
}